<div class="breadcrumb">
    <ul class="lst-breadcrumb">
         <!-- <li>
            <a href="javascript:;">Master</a>
        </li> -->
        <li>
            <a href="javascript:;" routerLink="/user-master-view">{{ 'HOME.SECONDARY_USER_MASTER' | translate }}</a>
        </li>
        <li class="current">{{ 'ACTION.TEXT_ADD' | translate }}</li>
    </ul><!--.lst-breadcrumb-->
</div>
<div class="vspacer20"></div>

<main class="main-container">
    <div class="in-main">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="in-mcontainer">
                        <!--Alert Start-->
                        <div *ngIf="!code_exist" class="alert alert-danger code-exist-alert" role="alert">
                            {{code_exist_message}}
                        </div>
                        <!--Alert End-->
                        <div class="category">{{ 'HOME.USER_DETAILS' | translate }}</div>
                        <div class="vspacer20"></div>
                        <!-- <div class="row">
                            <div class="col-12">
                                <div class="vertical-align-mid pad-15">If you do not know the Latitude and longitude value. Please click here</div>
                                <div class="vertical-align-mid pad-15"><button class="button sm" (click)="getLocationCoords();">Get Location</button></div>
                            </div>
                        </div>
                        <div class="vspacer20"></div> -->
                        <form [formGroup]="userForm">
                       
                        <div class="row form-group">
                            <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.USER_CODE' | translate }}</label>                                   
                                    <input type="text" formControlName="musrcode" placeholder="{{ 'HOME.USER_CODE' | translate }}"><u></u>
                                    <em *ngIf="userForm.controls['musrcode'].hasError('required') && (userForm.controls['musrcode'].dirty || userForm.controls['musrcode'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                    <em *ngIf="userForm.controls['musrcode'].hasError('maxlength') && (userForm.controls['musrcode'].dirty || userForm.controls['musrcode'].touched)">{{ 'VALIDATION.MAX_8' | translate }}</em>
                                </div><!--.form-control-->
                            </div>
                        </div>  
                        <div class="category">{{ 'HOME.LOGIN_LOGOUT' | translate }}</div>
                        <div class="vspacer20"></div>

                        <!-- <div class="row form-group">
                            <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.AUTO_LOGOUT_PERIOD' | translate }}</label>
                                    <input type="text" formControlName="mautologoutperiod" placeholder="{{ 'HOME.AUTO_LOGOUT_PERIOD' | translate }}"><u></u>
                                    <em *ngIf="userForm.controls['mautologoutperiod'].hasError('required') && (userForm.controls['mautologoutperiod'].dirty || userForm.controls['mautologoutperiod'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                </div>
                            </div>                                
                        </div> -->

                        <div class="category">{{ 'HOME.PASSWORD' | translate }}</div>
                        <div class="vspacer20"></div>

                        <div class="row form-group">
                            <!-- <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.NEW_PASSWORD' | translate }}</label>
                                    <input type="password" formControlName="mnewpassword" placeholder="{{ 'HOME.NEW_PASSWORD' | translate }}"><u></u>
                                    <em *ngIf="userForm.controls['mnewpassword'].hasError('required') && (userForm.controls['mnewpassword'].dirty || userForm.controls['mnewpassword'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                </div>
                            </div> -->

                            <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.OLD_PASS1' | translate }}</label>
                                    <input type="password" formControlName="moldpass1" placeholder="{{ 'HOME.OLD_PASS1' | translate }}"><u></u>
                                    <em *ngIf="userForm.controls['moldpass1'].hasError('required') && (userForm.controls['moldpass1'].dirty || userForm.controls['moldpass1'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                </div>
                            </div>

                            <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.OLD_PASS2' | translate }}</label>
                                    <input type="password" formControlName="moldpass1" placeholder="{{ 'HOME.OLD_PASS2' | translate }}"><u></u>
                                    <em *ngIf="userForm.controls['moldpass2'].hasError('required') && (userForm.controls['moldpass2'].dirty || userForm.controls['moldpass2'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                </div>
                            </div>

                            <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.OLD_PASS3' | translate }}</label>
                                    <input type="password" formControlName="moldpass3" placeholder="{{ 'HOME.OLD_PASS3' | translate }}"><u></u>
                                    <em *ngIf="userForm.controls['moldpass3'].hasError('required') && (userForm.controls['moldpass3'].dirty || userForm.controls['moldpass3'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                </div>
                            </div>

                            <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.USER_PASSWORD' | translate }}</label>
                                    <input type="password" formControlName="musrpass" placeholder="{{ 'HOME.USER_PASSWORD' | translate }}"><u></u>
                                    <em *ngIf="userForm.controls['musrpass'].hasError('required') && (userForm.controls['musrpass'].dirty || userForm.controls['musrpass'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                </div>
                            </div>
                            <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.LAST_PASSWORD_CHANGE_DATE' | translate }}</label>
                                    <input type="text" formControlName="mlastpwdchgdt" placeholder="{{ 'HOME.LAST_PASSWORD_CHANGE_DATE' | translate }}" bsDatepicker><u></u>
                                    <em *ngIf="userForm.controls['mlastpwdchgdt'].hasError('required') && (userForm.controls['mlastpwdchgdt'].dirty || userForm.controls['mlastpwdchgdt'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                </div>
                            </div>                      
                            
                            <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.NEXT_PASSWORD_CHANGE_DATE' | translate }}</label>
                                    <input type="text" formControlName="mnextpwdchgdt" placeholder="{{ 'HOME.NEXT_PASSWORD_CHANGE_DATE' | translate }}" bsDatepicker [bsConfig]="{ dateInputFormat: 'YYYY-MM-DD', adaptivePosition: true }"><u></u>
                                    <em *ngIf="userForm.controls['mnextpwdchgdt'].hasError('required') && (userForm.controls['mnextpwdchgdt'].dirty || userForm.controls['mnextpwdchgdt'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                </div>
                            </div>    
                        </div>

                        <div class="category">{{ 'HOME.GENERAL' | translate }}</div>
                        <div class="vspacer20"></div>

                        <div class="row form-group">   
                            <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.REGISTER_DEVICE_MAC_ID' | translate }}</label>
                                    <input type="text" formControlName="mregdevicemacid" placeholder="{{ 'HOME.REGISTER_DEVICE_MAC_ID' | translate }}"><u></u>
                                    <em *ngIf="userForm.controls['mregdevicemacid'].hasError('required') && (userForm.controls['mregdevicemacid'].dirty || userForm.controls['mregdevicemacid'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                </div>
                            </div>                                
                            <div class="col-12 col-md-3">
                                <div class="form-controller control-mandatory">
                                    <label>{{ 'HOME.STATUS' | translate }}</label>
                                    <div>
                                        <select formControlName="mstatus">
                                            <option value="Select" [selected]="true">Select [ 1010 ]</option>
                                            <option *ngFor="let data of statusLookup" value="{{data.lookupComposite.mcode}}">{{data.mcodedesc}}</option>
                                        </select><u></u>
                                    </div>                                   
                                    <em *ngIf="userForm.controls['mstatus'].hasError('required') && (userForm.controls['mstatus'].dirty || userForm.controls['mstatus'].touched)">{{ 'VALIDATION.REQUIRED' | translate }}</em>
                                </div>
                            </div>                                
                        </div>

                        <div class="row form-footer">
                            <div class="col-6">
                                <div class="text-left">
                                    <button class="linkbutton" routerLink="/user-master-view">{{ 'ACTION.CANCEL' | translate }}</button>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-footer text-right">
                                    <button class="button" (click)="onSubmit(userForm.value)">{{ 'ACTION.SUBMIT' | translate }}</button>
                                </div>
                            </div>
                        </div><!--.row-->
                    </form>

                    </div><!--.in-mcontainer-->
                </div><!--.col-12-->
            </div><!--.row-->
        </div><!--.container-fluid-->
    </div><!--.in-main-->
</main><!--.main-container-->
<!-- ================ Main Page Content - End   ==============-->


